##DOCKER
#services:
#  app:
#    build: .
#    volumes:
#      - .:/carina-solvd
#      - ~/target:/carina-solvd/target

##Selenoid
services:
  selenoid:
    image: "aerokube/selenoid"
    network_mode: bridge
    restart: unless-stopped
    ports:
      - "4444:4444"
    volumes:
      - "$PWD:/etc/selenoid/" # assumed current dir contains browsers.json
      - "/var/run/docker.sock:/var/run/docker.sock"
      - "/Users/bekamakharadze/DockerVideos/video/:/opt/selenoid/video/"
    environment:
      - OVERRIDE_VIDEO_OUTPUT_DIR=/Users/bekamakharadze/DockerVideos/video/
  selenoid-ui:
    image: "aerokube/selenoid-ui"
    network_mode: bridge
    depends_on:
      - selenoid
    links:
      - selenoid
    restart: unless-stopped
    ports:
      - "8080:8080"
    command: [ "--selenoid-uri", "http://localhost:8080/selenoid/" ]
  reporting:
    enabled: true
    project-key: WEB
    server:
      hostname: http://localhost:8080/#/
      access-token: u068ICyZstw0uMcj0168DZhb2TXJwbg3oXAGMUcfKZUYNeTXBv
    run:
      display-name: Nightly Regression Suite
      build: 2.5.3.96-SNAPSHOT
      environment: TEST-1
      locale: en_US
      retry-known-issues: false
      treat-skips-as-failures: false
      test-case-status:
        on-pass: passed
        on-fail: failed
        on-skip: retest
    notification:
      notify-on-each-failure: true
      slack-channels: automation, dev-team
      ms-teams-channels: automation, qa-team
      emails: boss@example.com
    milestone:
      name: Release 2.5.3